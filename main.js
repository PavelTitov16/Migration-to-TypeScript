(()=>{"use strict";var t={474:(t,e,r)=>{t.exports=r.p+"fd95a8de14d88046e30e.jpg"}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var c=e[o]={exports:{}};return t[o](c,c.exports,r),c.exports}r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;r.g.importScripts&&(t=r.g.location+"");var e=r.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=t})(),(()=>{var t,e=function(){return e=Object.assign||function(t){for(var e,r=1,o=arguments.length;r<o;r++)for(var n in e=arguments[r])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},e.apply(this,arguments)},o=function(){function t(t,e){this.baseLink=t,this.options=e}return t.prototype.getResp=function(t,e){var r=t.endpoint,o=t.options;void 0===e&&(e=function(){console.error("No callback for GET response")}),this.load("GET",r,e,o)},t.prototype.errorHandler=function(t){if(!t.ok)throw 400!==t.status&&404!==t.status||console.log("Sorry, but there is ".concat(t.status," error: ").concat(t.statusText)),Error(t.statusText);return t},t.prototype.makeUrl=function(t,r){var o=e(e({},this.options),t),n="".concat(this.baseLink).concat(r,"?");return Object.keys(o).forEach((function(t){n+="".concat(t,"=").concat(o[t],"&")})),n.slice(0,-1)},t.prototype.load=function(t,e,r,o){void 0===o&&(o={}),fetch(this.makeUrl(o,e),{method:t}).then(this.errorHandler).then((function(t){return t.json()})).then((function(t){return r(t)})).catch((function(t){return console.error(t)}))},t}(),n=(t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)},function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)});const c=function(t){function e(){return t.call(this,"https://nodenews.herokuapp.com/",{apiKey:"89616b3c014648d4ac3ecb5fea05b48b"})||this}return n(e,t),e}(o);var u=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},t(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}();const i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.getSources=function(e){t.prototype.getResp.call(this,{endpoint:"sources"},e)},e.prototype.getNews=function(e,r){for(var o=e.target,n=e.currentTarget;o!==n;){if(o.classList.contains("source__item")){var c=o.getAttribute("data-source-id");return void(n.getAttribute("data-source")!==c&&(n.setAttribute("data-source",c),t.prototype.getResp.call(this,{endpoint:"everything",options:{sources:c}},r)))}o=o.parentNode}},e}(c);var s=function(){function t(){}return t.prototype.draw=function(t){var e=t.length>=10?t.filter((function(t,e){return e<10})):t,o=document.createDocumentFragment(),n=document.querySelector("#newsItemTemp");e.forEach((function(t,e){var c=n.content.cloneNode(!0);e%2&&c.querySelector(".news__item").classList.add("alt"),c.querySelector(".news__meta-photo").style.backgroundImage="url(".concat(t.urlToImage||r(474),")"),c.querySelector(".news__meta-author").textContent=t.author||t.source.name,c.querySelector(".news__meta-date").textContent=t.publishedAt.slice(0,10).split("-").reverse().join("-"),c.querySelector(".news__description-title").textContent=t.title,c.querySelector(".news__description-source").textContent=t.source.name,c.querySelector(".news__description-content").textContent=t.description,c.querySelector(".news__read-more a").setAttribute("href",t.url),o.append(c)})),document.querySelector(".news").innerHTML="",document.querySelector(".news").appendChild(o)},t}();const a=s,p=function(){function t(){}return t.prototype.draw=function(t){var e=document.createDocumentFragment(),r=document.querySelector("#sourceItemTemp");t.forEach((function(t){var o=r.content.cloneNode(!0);o.querySelector(".source__item-name").textContent=t.name,o.querySelector(".source__item").setAttribute("data-source-id",t.id),e.append(o)})),document.querySelector(".sources").append(e)},t}();var l=function(){function t(){this.news=new a,this.sources=new p}return t.prototype.drawNews=function(t){var e=(null==t?void 0:t.articles)?null==t?void 0:t.articles:[];this.news.draw(e)},t.prototype.drawSources=function(t){var e=(null==t?void 0:t.sources)?null==t?void 0:t.sources:[];this.sources.draw(e)},t}();(new(function(){function t(){this.controller=new i,this.view=new l}return t.prototype.start=function(){var t=this;document.querySelector(".sources").addEventListener("click",(function(e){return t.controller.getNews(e,(function(e){return t.view.drawNews(e)}))})),this.controller.getSources((function(e){return t.view.drawSources(e)}))},t}())).start()})()})();